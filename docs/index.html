<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>What the Package Does (One Line, Title Case) • rebl</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="What the Package Does (One Line, Title Case)">
<meta name="description" content="What the package does (one paragraph).">
<meta property="og:description" content="What the package does (one paragraph).">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">rebl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/Usage.html">Using the Package</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="rebl-scale">REBL Scale<a class="anchor" aria-label="anchor" href="#rebl-scale"></a>
</h1></div>
<p>Dr. Trisha Shrum, Chris Donovan</p>
<p>September 06, 2025</p>
<!-- badges: start -->

<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is the repository for the Repeated Environmental Behavior Latent (REBL) Scale project. It contains all the code to build the REBL scale from raw data through visualizations.</p>
</div>
<div class="section level2">
<h2 id="rebl-package">REBL Package<a class="anchor" aria-label="anchor" href="#rebl-package"></a>
</h2>
<div class="section level3">
<h3 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h3>
<p>To install the <code>rebl</code> package:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages('remotes')</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">'tshrum/rebl'</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-the-package">Using the Package<a class="anchor" aria-label="anchor" href="#using-the-package"></a>
</h3>
<div class="section level4">
<h4 id="recoding-survey">Recoding Survey<a class="anchor" aria-label="anchor" href="#recoding-survey"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">rebl</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Example data frame</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/str.html" class="external-link">str</a></span><span class="op">(</span><span class="va">raw_example</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Identify REBL items with regex. </span></span>
<span><span class="co"># Here we take everything that does not start with 'res'</span></span>
<span><span class="op">(</span><span class="va">rebl_items</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/id_rebl_items.html">id_rebl_items</a></span><span class="op">(</span><span class="va">raw_example</span>, <span class="st">'^(?!res).*'</span>, perl <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Recode REBL items from Yes/No to 1/0</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/recode_rebl.html">recode_rebl</a></span><span class="op">(</span><span class="va">raw_example</span>, <span class="va">rebl_items</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># To reverse code reversed REBL items (where 0 is the PEB), first identify them.</span></span>
<span><span class="co"># Just using all food items as an example</span></span>
<span><span class="op">(</span><span class="va">reversed_items</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/id_reversed_rebl_items.html">id_reversed_rebl_items</a></span><span class="op">(</span><span class="va">rebl_items</span>, <span class="st">'^food'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now recode the reversed items in the df</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/reverse_code_rebl_items.html">reverse_code_rebl_items</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">reversed_items</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="getting-rebl-scores">Getting REBL Scores<a class="anchor" aria-label="anchor" href="#getting-rebl-scores"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Run Rasch Model</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_rasch_model.html">get_rasch_model</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">'respondent_id'</span>, <span class="va">rebl_items</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Throws warning if some items are not found in df</span></span>
<span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_rasch_model.html">get_rasch_model</a></span><span class="op">(</span><span class="va">df</span>, <span class="st">'respondent_id'</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">rebl_items</span>, <span class="st">'ffff'</span>, <span class="st">'zzzz'</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in get_rasch_model(df, "respondent_id", c(rebl_items, "ffff", "zzzz")):</span></span>
<span><span class="co">#&gt; 2 REBL item(s) not included in data frame: ffff, zzzz</span></span>
<span></span>
<span><span class="co"># Get a df of REBL scores and person fit statistics</span></span>
<span><span class="va">rebl_scores</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_rebl_scores.html">get_rebl_scores</a></span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Only REBL scores, no fits</span></span>
<span><span class="va">rebl_only</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_rebl_scores.html">get_rebl_scores</a></span><span class="op">(</span><span class="va">model</span>, include_fits <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="file-structure">File Structure<a class="anchor" aria-label="anchor" href="#file-structure"></a>
</h3>
<p>The project is halfway through transitioning into a package (2025-09-03). The package has the usual structure:</p>
<ul>
<li>
<code>R/</code>: Functions</li>
<li>
<code>data/</code>: Built-in datasets. Used in examples and testing.</li>
<li>
<code>data-raw/</code>: Scripts to create built-in datasets.</li>
<li>
<code>man/</code>: Documentation</li>
<li>
<code>tests/</code>: Test suite using <code>testthat</code>
</li>
<li>
<code>DESCRIPTION</code>: Package information, license, author</li>
<li>
<code>NAMESPACE</code>: Exports and imports</li>
</ul>
<p>In the meantime, functions will be duplicated across <code>3_functions/</code> and <code>R/</code> until things are settled, at which point I hope to clear this up and create a more focused, functional, and portable workflow.</p>
</div>
</div>
<div class="section level2">
<h2 id="rebl-project">REBL Project<a class="anchor" aria-label="anchor" href="#rebl-project"></a>
</h2>
<div class="section level3">
<h3 id="clone-repository">Clone Repository<a class="anchor" aria-label="anchor" href="#clone-repository"></a>
</h3>
</div>
<div class="section level3">
<h3 id="dependencies">Dependencies<a class="anchor" aria-label="anchor" href="#dependencies"></a>
</h3>
<p>The project is set up with <code>renv</code>. To restore the packages used in the project, use:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" tabindex="-1"></a><span class="co"># install.packages('renv')</span></span>
<span id="cb4-2"><a href="#cb4-2" tabindex="-1"></a>renv<span class="sc">::</span><span class="fu">restore</span>()</span></code></pre></div>
<p>This will install packages and versions as described in the <code>renv.lock</code> file.</p>
</div>
<div class="section level3">
<h3 id="navigating-the-project">Navigating the Project<a class="anchor" aria-label="anchor" href="#navigating-the-project"></a>
</h3>
<p>After opening <code>reb_scale.Rproj</code>, start with <code>table_of_contents.R</code>. This will list all the relevant scripts in the order they should be run. Run the <code>housekeeping.R</code> script, which will load helper functions that are used throughout the project. Additional required packages are then included in the top of each script. Using <code>ctrl/cmd + left click</code> on the text of a file path in the table of contents will open that script in a new tab.</p>
<p>All the objects and packages required for each script are loaded at the top of the page, and all important outputs are saved at the end of each script. So, you can run the entire project from the table of contents, but you can also just skip to any script and run it from there.</p>
</div>
<div class="section level3">
<h3 id="project-file-structure">Project File Structure<a class="anchor" aria-label="anchor" href="#project-file-structure"></a>
</h3>
<ul>
<li>
<code>1_raw/</code> is for raw, untouched, datasets. Metadata is embedded into these files using # as a comment symbol.</li>
<li>
<code>2_clean/</code> is for cleaned (wrangled, recoded, imputed, etc.) data.</li>
<li>
<code>3_functions/</code> is where custom functions are stored. The housekeeping script will load these.</li>
<li>
<code>4_scripts/</code> is for all R scripts.</li>
<li>
<code>5_objects/</code> is for intermediate .rds objects.</li>
<li>
<code>6_outputs/</code> is where tabular outputs are kept.</li>
<li>
<code>7_plots/</code> is for figures, diagrams, pngs, pdfs, etc.</li>
</ul>
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>`use_mit_license()`, `use_gpl3_license()` or friends to pick a license</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing rebl</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>First Last <br><small class="roles"> Author, maintainer </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://app.codecov.io/gh/tshrum/rebl" class="external-link"><img src="https://codecov.io/gh/tshrum/rebl/graph/badge.svg" alt="Codecov test coverage"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by First Last.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
