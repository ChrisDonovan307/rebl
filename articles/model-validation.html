<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Model Validation • rebl</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Model Validation">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rebl</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9002</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/rasch-modeling.html">Rasch Modeling</a></li>
    <li><a class="dropdown-item" href="../articles/model-validation.html">Model Validation</a></li>
    <li><a class="dropdown-item" href="../articles/rebl-scores-and-outputs.html">REBL Scores and Outputs</a></li>
    <li><a class="dropdown-item" href="../articles/test-linking.html">Test Linking</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/ChrisDonovan307/rebl/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">



<script src="model-validation_files/core-js-2.5.3/shim.min.js"></script><script src="model-validation_files/react-18.2.0/react.min.js"></script><script src="model-validation_files/react-18.2.0/react-dom.min.js"></script><script src="model-validation_files/reactwidget-2.0.0/react-tools.js"></script><link href="model-validation_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="model-validation_files/htmlwidgets-1.6.4/htmlwidgets.js"></script><link href="model-validation_files/reactable-0.4.4/reactable.css" rel="stylesheet">
<script src="model-validation_files/reactable-binding-0.4.4/reactable.js"></script><div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Model Validation</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/ChrisDonovan307/rebl/blob/main/vignettes/model-validation.Rmd" class="external-link"><code>vignettes/model-validation.Rmd</code></a></small>
      <div class="d-none name"><code>model-validation.Rmd</code></div>
    </div>

    
    
<blockquote>
<p><strong>NOTE:</strong> Example df is small and simulated, which
causes non-convergence errors in some models.</p>
</blockquote>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ChrisDonovan307/rebl" class="external-link">rebl</a></span><span class="op">)</span></span>
<span><span class="fu">pacman</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html" class="external-link">p_load</a></span><span class="op">(</span></span>
<span>  <span class="va">reactable</span>,</span>
<span>  <span class="va">dplyr</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>Start by getting our CML model:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rebl_items</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/id_rebl_items.html">id_rebl_items</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">example</span>, </span>
<span>  pattern <span class="op">=</span> <span class="st">'^(?!res).*'</span>, </span>
<span>  perl <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">model_cml</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_rasch_model.html">get_rasch_model</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">example</span>, </span>
<span>  id <span class="op">=</span> <span class="st">'respondent_id'</span>, </span>
<span>  rebl_items <span class="op">=</span> <span class="va">rebl_items</span>,</span>
<span>  type <span class="op">=</span> <span class="st">'cml'</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">model_con</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_rasch_model.html">get_rasch_model</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">example</span>, </span>
<span>  id <span class="op">=</span> <span class="st">'respondent_id'</span>, </span>
<span>  rebl_items <span class="op">=</span> <span class="va">rebl_items</span>,</span>
<span>  type <span class="op">=</span> <span class="st">'mml_con'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="measurement-invariance">Measurement Invariance<a class="anchor" aria-label="anchor" href="#measurement-invariance"></a>
</h2>
</div>
<div class="section level2">
<h2 id="unidimensionality">Unidimensionality<a class="anchor" aria-label="anchor" href="#unidimensionality"></a>
</h2>
</div>
<div class="section level2">
<h2 id="person-and-item-fit">Person and Item Fit<a class="anchor" aria-label="anchor" href="#person-and-item-fit"></a>
</h2>
<div class="section level3">
<h3 id="person-fit">Person Fit<a class="anchor" aria-label="anchor" href="#person-fit"></a>
</h3>
<p>Use the <code>get_person_fits</code> function for either CML or MML
models. For <code>eRm</code> model:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">person_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_person_fits.html">get_person_fits</a></span><span class="op">(</span><span class="va">model_cml</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">person_fits</span><span class="op">)</span></span>
<span><span class="co">#&gt;   id    p.fit p.df p.outfitMSQ p.infitMSQ  p.outfitZ   p.infitZ</span></span>
<span><span class="co">#&gt; 1 p1 26.25577   24   1.0939906  1.0820874  1.1567754  1.0703092</span></span>
<span><span class="co">#&gt; 2 p2 21.71436   24   0.9047649  0.9092663 -1.1926572 -1.1981892</span></span>
<span><span class="co">#&gt; 3 p3 25.16591   24   1.0485795  1.0443576  0.6855344  0.6581565</span></span>
<span><span class="co">#&gt; 4 p4 20.21121   24   0.8421338  0.8573618 -1.5843117 -1.5596026</span></span>
<span><span class="co">#&gt; 5 p5 20.72360   24   0.8634835  0.8707686 -1.3609121 -1.3812978</span></span>
<span><span class="co">#&gt; 6 p6 27.76184   24   1.1567434  1.1295124  0.9355978  0.8631123</span></span></code></pre></div>
<p>TODO: Interpretation</p>
<p>Same thing for <code>ltm</code> models:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">person_fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_person_fits.html">get_person_fits</a></span><span class="op">(</span><span class="va">model_con</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning: There was 1 warning in `dplyr::arrange()`.</span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">ℹ</span> In argument: `..1 = as.numeric(id)`.</span></span>
<span><span class="co">#&gt; Caused by warning:</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> NAs introduced by coercion</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">person_fits</span><span class="op">)</span></span>
<span><span class="co">#&gt;    id        L0          Lz          p</span></span>
<span><span class="co">#&gt; 1 p77 -17.56102 -1.49687625 0.06721273</span></span>
<span><span class="co">#&gt; 2 p37 -15.66684  0.50445151 0.69302794</span></span>
<span><span class="co">#&gt; 3 p45 -14.78634  0.25237416 0.59962406</span></span>
<span><span class="co">#&gt; 4 p90 -15.05879  0.42184543 0.66343108</span></span>
<span><span class="co">#&gt; 5 p79 -15.86456  0.07596912 0.53027817</span></span>
<span><span class="co">#&gt; 6 p85 -14.14752  2.37984952 0.99134015</span></span></code></pre></div>
<p>Here,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mn>0</mn></msub><annotation encoding="application/x-tex">L_0</annotation></semantics></math>
is the Levine and Rubin (1979) test statistic,
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><msub><mi>L</mi><mi>z</mi></msub><annotation encoding="application/x-tex">L_z</annotation></semantics></math>
is the standardized version (Drasgow et al., 1985), and
<math display="inline" xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mi>p</mi><annotation encoding="application/x-tex">p</annotation></semantics></math>
is the test of person fit where the null hypothesis is good fit.</p>
</div>
<div class="section level3">
<h3 id="item-fit">Item Fit<a class="anchor" aria-label="anchor" href="#item-fit"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">fits</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/get_item_fits.html">get_item_fits</a></span><span class="op">(</span></span>
<span>  model <span class="op">=</span> <span class="va">model_cml</span>,</span>
<span>  df <span class="op">=</span> <span class="va">example</span>,</span>
<span>  rebl_items <span class="op">=</span> <span class="va">rebl_items</span></span>
<span><span class="op">)</span></span>
<span><span class="va">fits</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">reactable</span><span class="fu">::</span><span class="fu"><a href="https://glin.github.io/reactable/reference/reactable.html" class="external-link">reactable</a></span><span class="op">(</span></span>
<span>    resizable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    filterable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    searchable <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    outlined <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    bordered <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    striped <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    compact <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>    defaultColDef <span class="op">=</span> <span class="fu">colDef</span><span class="op">(</span>format <span class="op">=</span> <span class="fu">colFormat</span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">3</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    columns <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      i.df <span class="op">=</span> <span class="fu">colDef</span><span class="op">(</span>format <span class="op">=</span> <span class="fu">colFormat</span><span class="op">(</span>digits <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
<div class="reactable html-widget html-fill-item" id="htmlwidget-ac96cb3ee4656e2e9ec3" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-ac96cb3ee4656e2e9ec3">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"rebl_item":["foodLocal","foodLunchNoMeat","foodMeat","foodOatMilk","foodTofu","foodVegan","homeClothesCold","homeClothesHang","homeLightsOff","packCarriedUtensils","packCompost","packContainerToRestaurant","packPickedUpLitter","packPullRecycleFromTrash","packRags","packReusableMug","packReusedPaperPlasticBags","purchBuyNothing","socialDocumentary","socialGroup","socialRead","socialSupportive","waterShowerStop","waterTeethStop"],"prop_peb":[0.5,0.52,0.28,0.42,0.42,0.38,0.63,0.37,0.57,0.43,0.38,0.39,0.48,0.35,0.57,0.44,0.61,0.36,0.46,0.5,0.48,0.41,0.46,0.51],"i.fit":[104.88778428883,100.238596622365,91.8802829613798,104.123785684798,96.6004088395842,89.5607318124677,88.3138376405575,96.4913827211463,104.178580445559,106.859273990413,104.755973755765,99.6612656243046,101.16546251836,94.7675707042433,94.2206510488575,102.61624478964,99.4735159711977,94.4709074376121,102.249054042307,103.699891977993,106.857047422888,107.507558649506,98.4805295244701,100.378404902911],"i.df":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],"i.outfitMSQ":[1.0488778428883,1.00238596622365,0.918802829613798,1.04123785684798,0.966004088395842,0.895607318124677,0.883138376405575,0.964913827211463,1.04178580445559,1.06859273990413,1.04755973755765,0.996612656243046,1.0116546251836,0.947675707042433,0.942206510488575,1.0261624478964,0.994735159711977,0.944709074376121,1.02249054042307,1.03699891977993,1.06857047422888,1.07507558649506,0.984805295244701,1.00378404902911],"i.infitMSQ":[1.03891865260807,0.995084298155301,0.936371509553833,1.03563065109767,0.967018973962979,0.912421359269721,0.897590041506087,0.951722895454633,1.0469621256815,1.05384906628521,1.03214914736712,1.00035639261126,1.01156159893005,0.95969105016089,0.939985175300124,1.01423523563574,0.996027571975217,0.951987232013082,1.02259051921295,1.03628002684787,1.06146589175895,1.06496290049382,0.986742055212821,1.0020857028396],"i.outfitZ":[1.1216432581147,0.0687220865661065,-0.709671848303118,0.752631778159779,-0.602090525506266,-1.57126509335599,-1.7005333869643,-0.472593549691818,0.806600616930828,1.28717222836799,0.712092621332418,-0.0310842210793784,0.276586840106503,-0.645739101792497,-1.11120841739477,0.530246964862545,-0.0616182655521982,-0.723171514745649,0.492993558011924,0.855784570108936,1.52703674130884,1.27774939709948,-0.311016811891495,0.101220582959439],"i.infitZ":[0.976049548670291,-0.10858663701995,-0.631383086816193,0.72130043562214,-0.65066022536767,-1.47364321673662,-1.69938204273748,-0.752137305650466,1.00740588169193,1.12203029375182,0.546559597168915,0.0253764679722526,0.296255437710298,-0.560431479792909,-1.29828667894343,0.323900307527269,-0.0524694399185788,-0.709955367824601,0.538326796898305,0.911544290676481,1.49226708562892,1.23315427626098,-0.296985853398957,0.0654685903291102],"i.disc":[-0.0660459769687349,0.0995846334611905,0.364553689901973,-0.0910735164172333,0.216477636421955,0.462426126099009,0.568153822522407,0.259409728293425,-0.142540003771117,-0.121315989792356,-0.0395782269912618,0.0569810154476348,0.0100812299185835,0.311820273164324,0.345180958192952,-0.00934979548178533,0.0611997309740171,0.27612667259093,0.0124005741051433,-0.0584492786382437,-0.213253458511355,-0.195785481393656,0.186778522218431,0.0470530247874674],"eta":["NA",-0.265027970992498,0.758437783745438,0.137184150204434,0.137184149100057,0.303780912679891,-0.716205877633605,0.346413715662173,-0.466429760169999,0.0963130323643067,0.30378091267989,0.261584654553075,-0.105210666006018,0.433177881585775,-0.466429762366124,0.0556770777369337,-0.631506566924984,0.389529623010568,-0.0250303914922773,-0.185124744039526,-0.105210666006017,0.178327296113301,-0.0250303914922773,-0.225061813103026],"eta_se":["NA",0.195938079312408,0.217270357062815,0.198287385060925,0.198287384415004,0.20151246103393,0.202431453424124,0.202553202409733,0.19763336739919,0.197699270106311,0.201512444710783,0.200569293881573,0.195956939204668,0.204945449722683,0.19763329397928,0.197193174620804,0.20046606154295,0.203695787940937,0.19642004504162,0.195797099473474,0.195956915685653,0.198959986422269,0.196420053000845,0.195829860570992]},"columns":[{"id":"rebl_item","name":"rebl_item","type":"character","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"prop_peb","name":"prop_peb","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"i.fit","name":"i.fit","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"i.df","name":"i.df","type":"numeric","format":{"cell":{"digits":0},"aggregated":{"digits":0}}},{"id":"i.outfitMSQ","name":"i.outfitMSQ","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"i.infitMSQ","name":"i.infitMSQ","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"i.outfitZ","name":"i.outfitZ","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"i.infitZ","name":"i.infitZ","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"i.disc","name":"i.disc","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"eta","name":"eta","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}},{"id":"eta_se","name":"eta_se","type":"numeric","format":{"cell":{"digits":3},"aggregated":{"digits":3}}}],"resizable":true,"filterable":true,"searchable":true,"outlined":true,"bordered":true,"striped":true,"compact":true,"dataKey":"181a640b4951e998ffb64fbd0f9f5941"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script><p>Note that the item fit function only works for CML models currently.
More coming soon.</p>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Christopher Donovan, Trisha Shrum.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
