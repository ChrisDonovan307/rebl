% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/exclude_cases.R
\name{exclude_cases}
\alias{exclude_cases}
\title{Exclude Cases from Survey Data}
\usage{
exclude_cases(
  df,
  start_date = NULL,
  end_date = NULL,
  bs_check_1 = NULL,
  bs_check_2 = NULL,
  vegan_meat_bs_check = NULL,
  attention_check_cutoff = NULL,
  reasonable_na_count = NULL,
  completion_cutoff = NULL,
  duration_percentile = NULL
)
}
\arguments{
\item{df}{Survey dataframe}

\item{start_date}{Start date ('YYYY-MM-DD') inclusive}

\item{end_date}{End date ('YYYY-MM-DD') inclusive}

\item{bs_check_1}{Variable name as character for first BS check}

\item{bs_check_2}{Variable name as character for second BS check}

\item{vegan_meat_bs_check}{Logical, whether to apply vegan/meat consistency check}

\item{attention_check_cutoff}{Integer, minimum number of attention checks to pass}

\item{reasonable_na_count}{Numeric, reasonable number of NAs for completion calculation}

\item{completion_cutoff}{Numeric (0 to 1), minimum completion rate}

\item{duration_percentile}{Numeric (0 to 1), percentile cutoff for duration filtering}
}
\value{
New filtered dataframe, along with a readout of how many were filtered at each step
}
\description{
Turning case exclusion into a function that can apply to any REBL survey. It
removes the 2 rows of Qualtrics nonsense, removes survey previews, and filters
by consent, start date, end date, and duration.
}
\details{
It requires the same variable names! Make sure they are named the same way.
It requires user to figure out a reasonable number of NAs for that survey.
}
\examples{
\dontrun{
# Example usage
clean_data <- exclude_cases(
  df = raw_survey,
  start_date = "2024-01-01",
  end_date = "2024-12-31",
  bs_check_1 = "foodForage",
  bs_check_2 = "foodForageBSCheck", 
  attention_check_cutoff = 2,
  completion_cutoff = 0.8,
  duration_percentile = 0.05
)
}
}
